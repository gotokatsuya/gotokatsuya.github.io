{"version":3,"sources":["webpack:///./src/pages/arts/apple-card.js","webpack:///./src/components/layout.js","webpack:///./src/components/seo.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js"],"names":["AppleCardPage","state","scrollTop","card","translateY","scale","title","opacity","subtitle","componentDidMount","this","drawCanvas","console","log","window","devicePixelRatio","addEventListener","e","watchScroll","componentWillUnmount","removeEventListener","viewportHeight","innerHeight","saveScrollState","top","Math","max","pageYOffset","document","documentElement","body","vy","setState","animateCardState","rangeTranslateY","rangeScale","min","animateTitleState","rangeOpacity","invisibleTitleState","animateSubtitleState","invisibleSubtitleState","vySlow","topSectionHeight","canvas","ctx","getContext","width","height","beginPath","grad","createLinearGradient","addColorStop","fillStyle","rect","fill","render","keywords","style","backgroundColor","position","overflow","left","transform","transitionTimingFunction","ref","display","flexDirection","alignItems","justifyContent","className","padding","React","Component","Layout","children","SEO","description","lang","meta","site","metaDescription","siteMetadata","htmlAttributes","titleTemplate","name","content","property","author","concat","length","join","defaultProps","toObject","toAbsoluteIndex","toLength","module","exports","value","O","aLen","arguments","index","undefined","end","endPos","$export","P"],"mappings":"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","file":"component---src-pages-arts-apple-card-js-65843c48edfbf5738722.js","sourcesContent":["import React from \"react\"\n\nimport Layout from \"../../components/layout\"\nimport SEO from \"../../components/seo\"\n\nclass AppleCardPage extends React.Component {\n  state = {\n    scrollTop: 0,\n    card: {\n      translateY: 0,\n      scale: 3,\n    },\n    title: {\n      scale: 1,\n      opacity: 1,\n    },\n    subtitle: {\n      translateY: 0,\n      opacity: 0,\n    },\n  }\n\n  componentDidMount() {\n    this.drawCanvas()\n    console.log(window.devicePixelRatio)\n    window.addEventListener(\"scroll\", e => this.watchScroll(e))\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\")\n  }\n\n  viewportHeight() {\n    return window.innerHeight * 0.01\n  }\n\n  saveScrollState() {\n    const top = Math.max(\n      window.pageYOffset,\n      document.documentElement.scrollTop,\n      document.body.scrollTop\n    )\n    const vy = top - this.state.scrollTop\n    this.setState({\n      scrollTop: top,\n    })\n    return { vy }\n  }\n\n  animateCardState(vy) {\n    const rangeTranslateY = { from: 0, to: 240 }\n    const translateY = this.state.card.translateY + vy\n    const rangeScale = { from: 3, to: 0.6 }\n    const scale = this.state.card.scale - vy * 0.01\n    this.setState({\n      card: {\n        translateY: Math.min(\n          Math.max(translateY, rangeTranslateY.from),\n          rangeTranslateY.to\n        ),\n        scale: Math.max(Math.min(scale, rangeScale.from), rangeScale.to),\n      },\n    })\n  }\n\n  animateTitleState(vy) {\n    const rangeOpacity = { from: 1, to: 0 }\n    const opacity = this.state.title.opacity - vy * 0.02\n    const rangeScale = { from: 1, to: 0.9 }\n    const scale = this.state.title.scale - vy * 0.002\n    this.setState({\n      title: {\n        opacity: Math.max(\n          Math.min(opacity, rangeOpacity.from),\n          rangeOpacity.to\n        ),\n        scale: Math.max(Math.min(scale, rangeScale.from), rangeScale.to),\n      },\n    })\n  }\n\n  invisibleTitleState() {\n    this.setState({\n      title: {\n        scale: 0,\n        opacity: 0,\n      },\n    })\n  }\n\n  animateSubtitleState(vy) {\n    const rangeTranslateY = { from: 0, to: -100 }\n    const translateY = this.state.subtitle.translateY - vy\n    const rangeOpacity = { from: 0, to: 1 }\n    const opacity = this.state.subtitle.opacity + vy * 0.01\n    this.setState({\n      subtitle: {\n        translateY: Math.max(\n          Math.min(translateY, rangeTranslateY.from),\n          rangeTranslateY.to\n        ),\n        opacity: Math.min(\n          Math.max(opacity, rangeOpacity.from),\n          rangeOpacity.to\n        ),\n      },\n    })\n  }\n\n  invisibleSubtitleState() {\n    this.setState({\n      subtitle: {\n        translateY: 0,\n        opacity: 0,\n      },\n    })\n  }\n\n  watchScroll(e) {\n    const { vy } = this.saveScrollState()\n    const vySlow = vy * 0.2\n    this.animateCardState(vySlow)\n    const topSectionHeight = this.viewportHeight() * 400\n    if (this.state.scrollTop > topSectionHeight / 3) {\n      this.animateSubtitleState(vySlow)\n      this.invisibleTitleState()\n    } else {\n      this.animateTitleState(vySlow)\n      this.invisibleSubtitleState()\n    }\n  }\n\n  drawCanvas() {\n    const canvas = this.canvas\n    const ctx = canvas.getContext(\"2d\")\n    const width = canvas.width\n    const height = canvas.height\n    ctx.beginPath()\n    const grad = ctx.createLinearGradient(0, 0, width, height)\n    grad.addColorStop(0, \"#f3e7e9\")\n    grad.addColorStop(1, \"#e3eeff\")\n    ctx.fillStyle = grad\n    ctx.rect(0, 0, width, height)\n    ctx.fill()\n  }\n\n  render() {\n    return (\n      <Layout>\n        <SEO title=\"AppleCard\" keywords={[`applecard`]} />\n        <section>\n          <div\n            style={{\n              width: `100%`,\n              height: `400vh`,\n              backgroundColor: `white`,\n            }}\n          >\n            <div\n              style={{\n                position: `sticky`,\n                overflow: `hidden`,\n                width: `100%`,\n                height: `100vh`,\n                top: `0`,\n              }}\n            >\n              <div\n                style={{\n                  position: `absolute`,\n                  left: `calc(50% - (100vw/2))`,\n                  top: `calc(50% - (60vw/2))`,\n                  width: `100vw`,\n                  height: `60vw`,\n                  transform: `translate(0px, ${\n                    this.state.card.translateY\n                  }px) scale(${this.state.card.scale}, ${\n                    this.state.card.scale\n                  })`,\n                  transitionTimingFunction: `cubic-bezier(0.55, 0.085, 0.68, 0.53)`,\n                }}\n              >\n                <canvas\n                  ref={e => {\n                    this.canvas = e\n                  }}\n                  width=\"320\"\n                  height=\"200\"\n                  style={{ width: `100%`, height: `100%` }}\n                />\n              </div>\n              <div\n                style={{\n                  height: `100%`,\n                  display: `flex`,\n                  flexDirection: `column`,\n                  alignItems: `center`,\n                  justifyContent: `center`,\n                }}\n              >\n                <div\n                  style={{\n                    position: `absolute`,\n                    transform: `scale(${this.state.title.scale}, ${\n                      this.state.title.scale\n                    })`,\n                    opacity: `${this.state.title.opacity}`,\n                  }}\n                  className=\"title is-1\"\n                >\n                  <div>\n                    This is <br /> My Card.\n                  </div>\n                </div>\n                <div\n                  style={{\n                    position: `absolute`,\n                    transform: `translate(0px, ${\n                      this.state.subtitle.translateY\n                    }px)`,\n                    opacity: `${this.state.subtitle.opacity}`,\n                  }}\n                  className=\"title has-text-centered\"\n                >\n                  <div>\n                    A new kind of\n                    <br /> my card.\n                    <br /> Created by Me,\n                    <br /> not a private.\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n        <section>\n          <div>\n            <div\n              style={{\n                padding: `30px`,\n              }}\n              className=\"title\"\n            >\n              About\n            </div>\n            <div\n              style={{\n                padding: `30px`,\n              }}\n              className=\"title\"\n            >\n              Features\n            </div>\n            <div\n              style={{\n                padding: `30px`,\n              }}\n              className=\"title\"\n            >\n              Contact\n            </div>\n          </div>\n        </section>\n      </Layout>\n    )\n  }\n}\n\nexport default AppleCardPage\n","/**\n * Layout component that queries for data\n * with Gatsby's StaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport \"./../styles/layout.scss\"\n\nconst Layout = ({ children }) => (\n  <div>\n    <main className=\"layout\">{children}</main>\n  </div>\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Helmet from \"react-helmet\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nfunction SEO({ description, lang, meta, keywords, title }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `\n  )\n\n  const metaDescription = description || site.siteMetadata.description\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary`,\n        },\n        {\n          name: `twitter:creator`,\n          content: site.siteMetadata.author,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n      ]\n        .concat(\n          keywords.length > 0\n            ? {\n                name: `keywords`,\n                content: keywords.join(`, `),\n              }\n            : []\n        )\n        .concat(meta)}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: `en`,\n  meta: [],\n  keywords: [],\n  description: ``,\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.arrayOf(PropTypes.object),\n  keywords: PropTypes.arrayOf(PropTypes.string),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n"],"sourceRoot":""}